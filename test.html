<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>mcorp-ai.com</title>
  <link rel="canonical" href="https://mcorp-ai.com/test.html" />
  <style>
    :root { color-scheme: light dark; }
    html, body { height: 100%; }
    body { margin: 0; overflow: hidden; background: #fff; }

    /* PDF가 화면에 바로 꽉 차게 */
    .pdfFrame {
      width: 100vw;
      height: 100vh;
      border: 0;
      display: block;
      background: #fff;
    }

    /* 오디오는 UI 없이 숨김 */
    audio { display: none; }

    /* 첫 휠 입력을 잡기 위한 완전 투명 레이어 (문구/팝업 없음) */
    #capture {
      position: fixed;
      inset: 0;
      background: transparent;
      z-index: 2147483647;
    }
  </style>
</head>
<body>
  <!--
    GitHub Pages / main(루트) 기준 파일 배치
      - test.html
      - Jeon_NobelPeace Prize nominee.pdf
      - Jeon_NobelPeace Prize nominee.mp3
    접속
      https://mcorp-ai.com/test.html
  -->

  <iframe
    class="pdfFrame"
    title="PDF"
    src="Jeon_NobelPeace%20Prize%20nominee.pdf#toolbar=0&navpanes=0&scrollbar=1&view=FitH"
  ></iframe>

  <audio id="audio" preload="auto">
    <source src="Jeon_NobelPeace%20Prize%20nominee.mp3" type="audio/mpeg" />
  </audio>

  <!-- 사용자가 휠을 내리는 첫 순간(1회)만 잡고 바로 제거됨 -->
  <div id="capture" aria-hidden="true"></div>

  <script>
    const audio = document.getElementById('audio');
    const capture = document.getElementById('capture');

    // 가능하면 미리(무음)로 재생 상태를 만들어두고, 첫 휠에서 음소거 해제
    audio.muted = true;
    audio.play().catch(() => { /* 조용히 무시 */ });

    let done = false;

    function onWheel(e) {
      if (done) return;
      // "내리는" 휠에서만 1회 트리거
      if (typeof e.deltaY === 'number' && e.deltaY <= 0) return;

      done = true;

      // 즉시 레이어 제거(이후부터는 PDF 상호작용/스크롤 정상)
      capture.remove();

      // 첫 휠에서 음소거 해제 및 재생 보장 시도
      audio.muted = false;
      if (audio.paused) {
        audio.play().catch(() => { /* 조용히 무시 */ });
      }
    }

    // 첫 휠 입력을 레이어에서 받음
    capture.addEventListener('wheel', onWheel, { passive: true });
  </script>
</body>
</html>
