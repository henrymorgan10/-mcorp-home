<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>mcorp-ai.com</title>
  <link rel="canonical" href="https://mcorp-ai.com/test.html" />
  <style>
    :root { color-scheme: light dark; }
    html, body { height: 100%; }
    body { margin: 0; overflow: hidden; background: #fff; }

    .pdfFrame {
      width: 100vw;
      height: 100vh;
      border: 0;
      display: block;
      background: #fff;
    }

    audio { display: none; }

    /* 첫 휠 입력만 잡고 바로 제거되는 투명 레이어1 */
    #capture {
      position: fixed;
      inset: 0;
      background: transparent;
      z-index: 2147483647;
    }
  </style>
</head>
<body>
  <iframe
    class="pdfFrame"
    title="PDF"
    src="Jeon_NobelPeace%20Prize%20nominee.pdf#toolbar=0&navpanes=0&scrollbar=1&view=FitH"
  ></iframe>

  <audio id="audio" preload="auto" autoplay muted playsinline>
    <source src="Jeon_NobelPeace%20Prize%20nominee.mp3" type="audio/mpeg" />
  </audio>

  <div id="capture" aria-hidden="true"></div>

  <script>
    (function () {
      var audio = document.getElementById('audio');
      var capture = document.getElementById('capture');

      function ensureMutedPlaying() {
        try {
          audio.muted = true;
          var p = audio.play();
          if (p && typeof p.catch === 'function') {
            p.catch(function () {});
          }
        } catch (e) {}
      }

      ensureMutedPlaying();
      window.addEventListener('pageshow', ensureMutedPlaying);

      var done = false;

      function unmuteAndRestartOnce() {
        if (done) return;
        done = true;

        if (capture && capture.parentNode) {
          capture.parentNode.removeChild(capture);
        }

        function go() {
          try { audio.currentTime = 0; } catch (e) {}
          audio.muted = false;
        }

        if (audio.readyState >= 1) {
          go();
        } else {
          audio.addEventListener('loadedmetadata', go, { once: true });
        }

        ensureMutedPlaying();
      }

      function onWheel(e) {
        if (e && typeof e.deltaY === 'number' && e.deltaY > 0) {
          unmuteAndRestartOnce();
        }
      }

      capture.addEventListener('wheel', onWheel, { passive: true });
    })();
  </script>
</body>
</html>
